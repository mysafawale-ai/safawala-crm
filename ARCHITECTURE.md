# ğŸ—ï¸ Architecture Diagram

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                     APPLICATION LAYER                            â”‚
â”‚  (Your booking pages, order pages, etc.)                        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
             â”‚
             â”‚ imports & uses
             â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                   COMPONENT LAYER                                â”‚
â”‚                                                                  â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚  ItemsSelectionDialog  â”‚    â”‚   ItemsDisplayDialog      â”‚  â”‚
â”‚  â”‚                        â”‚    â”‚                           â”‚  â”‚
â”‚  â”‚  â€¢ Browse products     â”‚    â”‚  â€¢ View selected items    â”‚  â”‚
â”‚  â”‚  â€¢ Search & filter     â”‚    â”‚  â€¢ Edit quantities        â”‚  â”‚
â”‚  â”‚  â€¢ Check availability  â”‚    â”‚  â€¢ Remove items           â”‚  â”‚
â”‚  â”‚  â€¢ Select items        â”‚    â”‚  â€¢ Show summary           â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚               â”‚                             â”‚                   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                â”‚                             â”‚
                â”‚ uses                        â”‚ uses
                â–¼                             â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                     HOOKS LAYER                                  â”‚
â”‚                                                                  â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚useItemSelectionâ”‚  â”‚useAvailabilityâ”‚  â”‚useOrderCalculationsâ”‚ â”‚
â”‚  â”‚              â”‚  â”‚Check         â”‚  â”‚                      â”‚ â”‚
â”‚  â”‚â€¢ Add items   â”‚  â”‚              â”‚  â”‚â€¢ Subtotal            â”‚ â”‚
â”‚  â”‚â€¢ Remove      â”‚  â”‚â€¢ Check stock â”‚  â”‚â€¢ Discounts           â”‚ â”‚
â”‚  â”‚â€¢ Update qty  â”‚  â”‚â€¢ Date range  â”‚  â”‚â€¢ GST                 â”‚ â”‚
â”‚  â”‚â€¢ Calculationsâ”‚  â”‚â€¢ Conflicts   â”‚  â”‚â€¢ Security deposit    â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚         â”‚                  â”‚                      â”‚             â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”‚
â”‚  â”‚              useProductFilter                               â”‚â”‚
â”‚  â”‚                                                              â”‚â”‚
â”‚  â”‚  â€¢ Search term                                              â”‚â”‚
â”‚  â”‚  â€¢ Category filter                                          â”‚â”‚
â”‚  â”‚  â€¢ Subcategory filter                                       â”‚â”‚
â”‚  â”‚  â€¢ Stock filter                                             â”‚â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                â”‚
                                â”‚ uses
                                â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                     TYPES LAYER                                  â”‚
â”‚                                                                  â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚   Product      â”‚  â”‚   PackageSet    â”‚  â”‚    Category     â”‚ â”‚
â”‚  â”‚                â”‚  â”‚                 â”‚  â”‚                 â”‚ â”‚
â”‚  â”‚â€¢ id            â”‚  â”‚â€¢ id             â”‚  â”‚â€¢ id             â”‚ â”‚
â”‚  â”‚â€¢ name          â”‚  â”‚â€¢ name           â”‚  â”‚â€¢ name           â”‚ â”‚
â”‚  â”‚â€¢ rental_price  â”‚  â”‚â€¢ base_price     â”‚  â”‚â€¢ display_order  â”‚ â”‚
â”‚  â”‚â€¢ sale_price    â”‚  â”‚â€¢ variants[]     â”‚  â”‚                 â”‚ â”‚
â”‚  â”‚â€¢ stock         â”‚  â”‚â€¢ extra_safas    â”‚  â”‚                 â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                                                  â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚  SelectedProductItem     â”‚  â”‚  SelectedPackageItem      â”‚  â”‚
â”‚  â”‚                          â”‚  â”‚                           â”‚  â”‚
â”‚  â”‚â€¢ id                      â”‚  â”‚â€¢ id                       â”‚  â”‚
â”‚  â”‚â€¢ product_id              â”‚  â”‚â€¢ package_id               â”‚  â”‚
â”‚  â”‚â€¢ product                 â”‚  â”‚â€¢ variant_id               â”‚  â”‚
â”‚  â”‚â€¢ quantity                â”‚  â”‚â€¢ package                  â”‚  â”‚
â”‚  â”‚â€¢ unit_price              â”‚  â”‚â€¢ variant                  â”‚  â”‚
â”‚  â”‚â€¢ total_price             â”‚  â”‚â€¢ quantity                 â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚â€¢ extra_safas              â”‚  â”‚
â”‚                                 â”‚â€¢ security_deposit         â”‚  â”‚
â”‚                                 â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                â”‚
                                â”‚ persists to
                                â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                     DATA LAYER                                   â”‚
â”‚                                                                  â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚                    Supabase Database                       â”‚  â”‚
â”‚  â”‚                                                            â”‚  â”‚
â”‚  â”‚  Tables:                                                   â”‚  â”‚
â”‚  â”‚  â€¢ products                                                â”‚  â”‚
â”‚  â”‚  â€¢ package_sets                                            â”‚  â”‚
â”‚  â”‚  â€¢ package_variants                                        â”‚  â”‚
â”‚  â”‚  â€¢ product_orders                                          â”‚  â”‚
â”‚  â”‚  â€¢ product_order_items                                     â”‚  â”‚
â”‚  â”‚  â€¢ package_bookings                                        â”‚  â”‚
â”‚  â”‚  â€¢ package_booking_items                                   â”‚  â”‚
â”‚  â”‚  â€¢ categories                                              â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ”„ Data Flow

### 1. Selection Flow
```
User Action â†’ ItemsSelectionDialog â†’ useProductFilter â†’ Filtered Items
                    â†“
            User Selects Item
                    â†“
            onItemSelect callback
                    â†“
            useItemSelection.addItem
                    â†“
            State Updated
```

### 2. Display Flow
```
State (items) â†’ ItemsDisplayDialog â†’ Render Items
                        â†“
                User Changes Quantity
                        â†“
                onQuantityChange callback
                        â†“
                useItemSelection.updateQuantity
                        â†“
                Recalculate Prices
                        â†“
                State Updated â†’ Re-render
```

### 3. Calculation Flow
```
Selected Items â†’ useOrderCalculations â†’ {
                                          subtotal,
                                          discount,
                                          gst,
                                          total
                                        }
                                          â†“
                                    Display in Summary
```

### 4. Availability Flow
```
User Clicks Check â†’ useAvailabilityCheck.checkSingleProduct
                            â†“
                    Query Supabase (products + bookings)
                            â†“
                    Calculate conflicts
                            â†“
                    Return availability data
                            â†“
                    Display in modal/badge
```

---

## ğŸ¯ Component Interaction

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                      Page Component                          â”‚
â”‚                                                              â”‚
â”‚  const { items, addItem, ... } = useItemSelection()         â”‚
â”‚  const calculations = useOrderCalculations(items)           â”‚
â”‚                                                              â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚  â”‚ Selection Button   â”‚        â”‚ Display Button       â”‚    â”‚
â”‚  â”‚ "Select Products"  â”‚        â”‚ "View Cart (3)"      â”‚    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â”‚            â”‚                                â”‚                â”‚
â”‚            â”‚ onClick                        â”‚ onClick        â”‚
â”‚            â–¼                                â–¼                â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚  â”‚ItemsSelectionDialogâ”‚        â”‚ ItemsDisplayDialog   â”‚    â”‚
â”‚  â”‚                    â”‚        â”‚                      â”‚    â”‚
â”‚  â”‚ props:             â”‚        â”‚ props:               â”‚    â”‚
â”‚  â”‚ â€¢ items            â”‚        â”‚ â€¢ items              â”‚    â”‚
â”‚  â”‚ â€¢ onItemSelect     â”‚â”€â”€â”€â”    â”‚ â€¢ onQuantityChange   â”‚â”€â”  â”‚
â”‚  â”‚ â€¢ context          â”‚   â”‚    â”‚ â€¢ onRemoveItem       â”‚ â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚    â”‚ â€¢ summaryData        â”‚ â”‚  â”‚
â”‚                            â”‚    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚  â”‚
â”‚                            â”‚                             â”‚  â”‚
â”‚                            â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                    â”‚                         â”‚
â”‚                                    â–¼                         â”‚
â”‚                            Updates items state               â”‚
â”‚                                    â”‚                         â”‚
â”‚                                    â–¼                         â”‚
â”‚                            Triggers re-calculation           â”‚
â”‚                                    â”‚                         â”‚
â”‚                                    â–¼                         â”‚
â”‚                            Both dialogs get new data         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ§© Modularity

Each layer is independent and reusable:

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    MODULARITY BENEFITS                        â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                               â”‚
â”‚  Components Layer:                                            â”‚
â”‚  â€¢ Can be used in any page                                    â”‚
â”‚  â€¢ No business logic inside                                   â”‚
â”‚  â€¢ Pure presentation                                          â”‚
â”‚                                                               â”‚
â”‚  Hooks Layer:                                                 â”‚
â”‚  â€¢ Reusable business logic                                    â”‚
â”‚  â€¢ Framework agnostic                                         â”‚
â”‚  â€¢ Easy to test                                               â”‚
â”‚                                                               â”‚
â”‚  Types Layer:                                                 â”‚
â”‚  â€¢ Single source of truth                                     â”‚
â”‚  â€¢ Type safety everywhere                                     â”‚
â”‚  â€¢ IntelliSense support                                       â”‚
â”‚                                                               â”‚
â”‚  Data Layer:                                                  â”‚
â”‚  â€¢ Supabase abstraction                                       â”‚
â”‚  â€¢ Can be swapped                                             â”‚
â”‚  â€¢ Consistent interface                                       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸª Example: Full Flow

```
1. User opens booking page
        â†“
2. Page loads products from Supabase
        â†“
3. User clicks "Select Products"
        â†“
4. ItemsSelectionDialog opens
        â†“
5. User types "wedding" in search
        â†“
6. useProductFilter filters items
        â†“
7. Grid updates with filtered products
        â†“
8. User clicks "Add to Cart" on item
        â†“
9. onItemSelect callback fires
        â†“
10. useItemSelection.addItem updates state
        â†“
11. Dialog closes, button shows "View Cart (1)"
        â†“
12. User clicks "View Cart"
        â†“
13. ItemsDisplayDialog opens with items
        â†“
14. useOrderCalculations computes totals
        â†“
15. Summary shows â‚¹5,000 + â‚¹250 GST = â‚¹5,250
        â†“
16. User clicks "+" to increase quantity
        â†“
17. onQuantityChange callback fires
        â†“
18. useItemSelection.updateQuantity updates state
        â†“
19. Recalculates: â‚¹10,000 + â‚¹500 GST = â‚¹10,500
        â†“
20. Summary updates automatically
        â†“
21. User clicks "Proceed to Checkout"
        â†“
22. Items saved to database
```

---

## ğŸ¨ State Management

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    STATE FLOW                               â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                             â”‚
â”‚  Local State (Page):                                        â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                    â”‚
â”‚  â”‚ const [showDialog, setShowDialog]  â”‚                    â”‚
â”‚  â”‚ const [products, setProducts]      â”‚                    â”‚
â”‚  â”‚ const [formData, setFormData]      â”‚                    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                    â”‚
â”‚                     â†“                                       â”‚
â”‚                                                             â”‚
â”‚  Hook State (useItemSelection):                            â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                    â”‚
â”‚  â”‚ const [items, setItems]            â”‚                    â”‚
â”‚  â”‚                                    â”‚                    â”‚
â”‚  â”‚ Derived: totalItems, totalAmount   â”‚                    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                    â”‚
â”‚                     â†“                                       â”‚
â”‚                                                             â”‚
â”‚  Component State (Dialog):                                 â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                    â”‚
â”‚  â”‚ const [searchTerm, setSearchTerm]  â”‚                    â”‚
â”‚  â”‚ const [viewMode, setViewMode]      â”‚                    â”‚
â”‚  â”‚ const [filter, setFilter]          â”‚                    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                    â”‚
â”‚                     â†“                                       â”‚
â”‚                                                             â”‚
â”‚  Computed (useMemo):                                        â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                    â”‚
â”‚  â”‚ filteredItems = useMemo(...)       â”‚                    â”‚
â”‚  â”‚ calculations = useMemo(...)        â”‚                    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸš€ Performance Optimization

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚              PERFORMANCE STRATEGIES                          â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                              â”‚
â”‚  1. Memoization:                                             â”‚
â”‚     â€¢ useMemo for filtered items                             â”‚
â”‚     â€¢ useMemo for calculations                               â”‚
â”‚     â€¢ React.memo for components                              â”‚
â”‚                                                              â”‚
â”‚  2. Callback Optimization:                                   â”‚
â”‚     â€¢ useCallback for event handlers                         â”‚
â”‚     â€¢ Prevent unnecessary re-renders                         â”‚
â”‚                                                              â”‚
â”‚  3. Lazy Loading:                                            â”‚
â”‚     â€¢ Load images on demand                                  â”‚
â”‚     â€¢ Paginate large lists                                   â”‚
â”‚                                                              â”‚
â”‚  4. Debouncing:                                              â”‚
â”‚     â€¢ Search input debounced                                 â”‚
â”‚     â€¢ Filter updates debounced                               â”‚
â”‚                                                              â”‚
â”‚  5. Virtual Scrolling (Future):                              â”‚
â”‚     â€¢ Render only visible items                              â”‚
â”‚     â€¢ Handle 1000+ items efficiently                         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

This architecture ensures:
- âœ… Separation of concerns
- âœ… Reusability
- âœ… Testability
- âœ… Maintainability
- âœ… Scalability
- âœ… Performance

---

*Understanding this architecture will help you extend and customize the components!*
