-- Create comprehensive dummy data for Safawala CRM
-- This script creates franchises, users, customers, products, bookings, and booking items
-- Fixed version that handles missing columns gracefully and provides proper codes

-- First, let's ensure we have a franchise with all required fields
INSERT INTO franchises (
  id,
  name,
  address,
  phone,
  email,
  gst_number,
  code,
  city,
  state,
  pincode,
  owner_name,
  is_active,
  created_at,
  updated_at
) VALUES (
  '11111111-1111-1111-1111-111111111111',
  'Safawala Main Branch',
  '123 Wedding Street, Bridal Market, Delhi - 110001',
  '+91-9876543210',
  'main@safawala.com',
  '07AAACH7409R1ZZ',
  'MAIN001',
  'Delhi',
  'Delhi',
  '110001',
  'Rajesh Safawala',
  true,
  NOW(),
  NOW()
) ON CONFLICT (id) DO UPDATE SET
  name = EXCLUDED.name,
  address = EXCLUDED.address,
  phone = EXCLUDED.phone,
  email = EXCLUDED.email,
  gst_number = EXCLUDED.gst_number,
  code = EXCLUDED.code,
  city = EXCLUDED.city,
  state = EXCLUDED.state,
  pincode = EXCLUDED.pincode,
  owner_name = EXCLUDED.owner_name,
  is_active = EXCLUDED.is_active;

-- Create users with all required columns
INSERT INTO users (
  id,
  name,
  email,
  franchise_id,
  role,
  password_hash,
  phone,
  is_active
) VALUES 
(
  '22222222-2222-2222-2222-222222222222',
  'Admin User',
  'admin@safawala.com',
  '11111111-1111-1111-1111-111111111111',
  'admin',
  '$2a$10$example_hash_admin',
  '+91-9876543220',
  true
),
(
  '33333333-3333-3333-3333-333333333333',
  'Manager Singh',
  'manager@safawala.com',
  '11111111-1111-1111-1111-111111111111',
  'manager',
  '$2a$10$example_hash_manager',
  '+91-9876543221',
  true
),
(
  '44444444-4444-4444-4444-444444444444',
  'Staff Kumar',
  'staff@safawala.com',
  '11111111-1111-1111-1111-111111111111',
  'staff',
  '$2a$10$example_hash_staff',
  '+91-9876543222',
  true
) ON CONFLICT (email) DO UPDATE SET
  name = EXCLUDED.name,
  franchise_id = EXCLUDED.franchise_id,
  role = EXCLUDED.role,
  password_hash = EXCLUDED.password_hash,
  phone = EXCLUDED.phone,
  is_active = EXCLUDED.is_active;

-- Create customers with all required columns
INSERT INTO customers (
  id,
  name,
  phone,
  email,
  whatsapp,
  address,
  city,
  pincode,
  gst_number,
  credit_limit,
  outstanding_balance,
  total_bookings,
  total_spent,
  customer_code,
  franchise_id,
  created_at,
  updated_at
) VALUES 
(
  'c1111111-1111-1111-1111-111111111111',
  'Rajesh Kumar',
  '+91-9876543210',
  'rajesh@email.com',
  '+91-9876543210',
  '456 MG Road, Connaught Place',
  'Delhi',
  '110001',
  '07AAACH7409R1ZZ',
  50000,
  14720,
  2,
  47200,
  'CUST001',
  '11111111-1111-1111-1111-111111111111',
  NOW(),
  NOW()
),
(
  'c2222222-2222-2222-2222-222222222222',
  'Priya Sharma',
  '+91-9876543211',
  'priya@email.com',
  '+91-9876543211',
  '789 Park Street, Karol Bagh',
  'Delhi',
  '110005',
  '07AAACH7409R1ZZ',
  30000,
  0,
  1,
  18880,
  'CUST002',
  '11111111-1111-1111-1111-111111111111',
  NOW(),
  NOW()
),
(
  'c3333333-3333-3333-3333-333333333333',
  'Amit Patel',
  '+91-9876543212',
  'amit@email.com',
  '+91-9876543212',
  '321 Rose Garden, Lajpat Nagar',
  'Delhi',
  '110024',
  '07AAACH7409R1ZZ',
  75000,
  23600,
  1,
  35400,
  'CUST003',
  '11111111-1111-1111-1111-111111111111',
  NOW(),
  NOW()
),
(
  'c4444444-4444-4444-4444-444444444444',
  'Sneha Gupta',
  '+91-9876543213',
  'sneha@email.com',
  '+91-9876543213',
  '654 Green Park, South Delhi',
  'Delhi',
  '110016',
  '07AAACH7409R1ZZ',
  40000,
  0,
  1,
  47200,
  'CUST004',
  '11111111-1111-1111-1111-111111111111',
  NOW(),
  NOW()
),
(
  'c5555555-5555-5555-5555-555555555555',
  'Vikram Singh',
  '+91-9876543214',
  'vikram@email.com',
  '+91-9876543214',
  '987 Defence Colony, New Delhi',
  'Delhi',
  '110024',
  '07AAACH7409R1ZZ',
  25000,
  0,
  1,
  14160,
  'CUST005',
  '11111111-1111-1111-1111-111111111111',
  NOW(),
  NOW()
),
(
  '660e8400-e29b-41d4-a716-446655440001', 'Priya Sharma', '+91-9876543211', 'priya.sharma@email.com', '+91-9876543211', '456 Residential Colony, Sector 15', 'Mumbai', '400015', '27ABCDE1234F1Z5', 50000.00, 2500.00, 3, 45000.00, 'CUST001', '550e8400-e29b-41d4-a716-446655440000', NOW(), NOW()),
    ('660e8400-e29b-41d4-a716-446655440002', 'Amit Patel', '+91-9876543212', 'amit.patel@email.com', '+91-9876543212', '789 Garden View, Block A', 'Mumbai', '400020', '27FGHIJ5678K2L6', 75000.00, 5000.00, 2, 35000.00, 'CUST002', '550e8400-e29b-41d4-a716-446655440000', NOW(), NOW()),
    ('660e8400-e29b-41d4-a716-446655440003', 'Sneha Gupta', '+91-9876543213', 'sneha.gupta@email.com', '+91-9876543213', '321 Heritage Apartments, Wing B', 'Mumbai', '400025', '27MNOPQ9012R3S7', 60000.00, 1500.00, 4, 55000.00, 'CUST003', '550e8400-e29b-41d4-a716-446655440000', NOW(), NOW()),
    ('660e8400-e29b-41d4-a716-446655440004', 'Rahul Singh', '+91-9876543214', 'rahul.singh@email.com', '+91-9876543214', '654 Elite Towers, Floor 12', 'Mumbai', '400030', '27TUVWX3456Y4Z8', 100000.00, 8000.00, 1, 25000.00, 'CUST004', '550e8400-e29b-41d4-a716-446655440000', NOW(), NOW()),
    ('660e8400-e29b-41d4-a716-446655440005', 'Kavya Reddy', '+91-9876543215', 'kavya.reddy@email.com', '+91-9876543215', '987 Royal Residency, Villa 5', 'Mumbai', '400035', '27ABCXY7890Z5A9', 80000.00, 3000.00, 2, 40000.00, 'CUST005', '550e8400-e29b-41d4-a716-446655440000', NOW(), NOW())
ON CONFLICT (id) DO UPDATE SET
  name = EXCLUDED.name,
  phone = EXCLUDED.phone,
  franchise_id = EXCLUDED.franchise_id,
  customer_code = EXCLUDED.customer_code,
  email = EXCLUDED.email,
  whatsapp = EXCLUDED.whatsapp,
  address = EXCLUDED.address,
  city = EXCLUDED.city,
  pincode = EXCLUDED.pincode,
  gst_number = EXCLUDED.gst_number,
  credit_limit = EXCLUDED.credit_limit,
  outstanding_balance = EXCLUDED.outstanding_balance,
  total_bookings = EXCLUDED.total_bookings,
  total_spent = EXCLUDED.total_spent;

-- Create products with all required columns
INSERT INTO products (
  id,
  name,
  category,
  price,
  rental_price,
  stock_total,
  stock_available,
  stock_booked,
  stock_damaged,
  stock_in_laundry,
  product_code,
  barcode,
  brand,
  color,
  material,
  cost_price,
  security_deposit,
  reorder_level,
  damage_count,
  is_active,
  franchise_id,
  created_at,
  updated_at
) VALUES 
(
  'p1111111-1111-1111-1111-111111111111',
  'Royal Groom Sherwani',
  'turban',
  75000,
  15000,
  10,
  7,
  3,
  0,
  0,
  'SHW001',
  '1234567890123',
  'Royal Collection',
  'Cream',
  'Silk',
  45000,
  5000,
  2,
  0,
  true,
  '11111111-1111-1111-1111-111111111111',
  NOW(),
  NOW()
),
(
  'p2222222-2222-2222-2222-222222222222',
  'Diamond Necklace Set',
  'accessory',
  50000,
  2500,
  8,
  6,
  2,
  0,
  0,
  'JWL001',
  '1234567890124',
  'Diamond Dreams',
  'Silver',
  'Diamond',
  30000,
  2000,
  1,
  0,
  true,
  '11111111-1111-1111-1111-111111111111',
  NOW(),
  NOW()
),
(
  'p3333333-3333-3333-3333-333333333333',
  'Wedding Stage Decoration',
  'package',
  100000,
  8000,
  5,
  3,
  2,
  0,
  0,
  'DEC001',
  '1234567890125',
  'Event Masters',
  'Multi',
  'Mixed',
  60000,
  3000,
  1,
  0,
  true,
  '11111111-1111-1111-1111-111111111111',
  NOW(),
  NOW()
),
(
  'p4444444-4444-4444-4444-444444444444',
  'Designer Groom Sherwani',
  'turban',
  80000,
  8000,
  8,
  6,
  2,
  0,
  0,
  'SHW002',
  '1234567890126',
  'Designer Collection',
  'Blue',
  'Silk',
  50000,
  4000,
  2,
  0,
  true,
  '11111111-1111-1111-1111-111111111111',
  NOW(),
  NOW()
),
(
  'p5555555-5555-5555-5555-555555555555',
  'Gold Bracelet Set',
  'accessory',
  35000,
  1800,
  12,
  10,
  2,
  0,
  0,
  'JWL002',
  '1234567890127',
  'Gold Palace',
  'Gold',
  'Gold',
  20000,
  1000,
  2,
  0,
  true,
  '11111111-1111-1111-1111-111111111111',
  NOW(),
  NOW()
),
(
  'p6666666-6666-6666-6666-666666666666',
  'Bridal Makeup Kit',
  'accessory',
  15000,
  1500,
  15,
  12,
  3,
  0,
  0,
  'ACC001',
  '1234567890128',
  'Beauty Pro',
  'Multi',
  'Cosmetics',
  8000,
  500,
  3,
  0,
  true,
  '11111111-1111-1111-1111-111111111111',
  NOW(),
  NOW()
),
(
  'p7777777-7777-7777-7777-777777777777',
  'Wedding Seating Set',
  'package',
  120000,
  5000,
  50,
  45,
  5,
  0,
  0,
  'FUR001',
  '1234567890129',
  'Furniture Plus',
  'Brown',
  'Wood',
  80000,
  2000,
  10,
  0,
  true,
  '11111111-1111-1111-1111-111111111111',
  NOW(),
  NOW()
),
(
  'p8888888-8888-8888-8888-888888888888',
  'LED Lighting Setup',
  'package',
  60000,
  3000,
  20,
  18,
  2,
  0,
  0,
  'LIG001',
  '1234567890130',
  'Light Masters',
  'Multi',
  'LED',
  35000,
  1500,
  5,
  0,
  true,
  '11111111-1111-1111-1111-111111111111',
  NOW(),
  NOW()
),
(
  '770e8400-e29b-41d4-a716-446655440001', 'Designer Sherwani', 'Premium silk sherwani with intricate embroidery', 'Sherwani', 2500.00, 50, 35, 10, 2, 3, 'SHW001', '1234567890123', 'Royal Collection', 'Cream Gold', 'Silk', 1500.00, 500.00, 5, 2, true, '550e8400-e29b-41d4-a716-446655440000', NOW(), NOW()),
    ('770e8400-e29b-41d4-a716-446655440002', 'Bridal Lehenga', 'Heavy work bridal lehenga with dupatta', 'Lehenga', 5000.00, 30, 20, 8, 1, 1, 'LEH001', '1234567890124', 'Bridal Dreams', 'Red Gold', 'Silk Velvet', 3000.00, 1000.00, 3, 1, true, '550e8400-e29b-41d4-a716-446655440000', NOW(), NOW()),
    ('770e8400-e29b-41d4-a716-446655440003', 'Gold Jewelry Set', 'Traditional gold plated jewelry set', 'Jewelry', 1500.00, 25, 18, 5, 1, 1, 'JWL001', '1234567890125', 'Golden Era', 'Gold', 'Gold Plated', 800.00, 300.00, 5, 1, true, '550e8400-e29b-41d4-a716-446655440000', NOW(), NOW()),
    ('770e8400-e29b-41d4-a716-446655440004', 'Wedding Saree', 'Designer wedding saree with blouse', 'Saree', 3000.00, 40, 28, 8, 2, 2, 'SAR001', '1234567890126', 'Elegant Weaves', 'Maroon Gold', 'Silk', 1800.00, 600.00, 5, 2, true, '550e8400-e29b-41d4-a716-446655440000', NOW(), NOW()),
    ('770e8400-e29b-41d4-a716-446655440005', 'Groom Accessories', 'Complete groom accessories set', 'Accessories', 800.00, 60, 45, 10, 3, 2, 'ACC001', '1234567890127', 'Groom Perfect', 'Mixed', 'Mixed Materials', 400.00, 200.00, 10, 3, true, '550e8400-e29b-41d4-a716-446655440000', NOW(), NOW())
ON CONFLICT (id) DO UPDATE SET
  name = EXCLUDED.name,
  category = EXCLUDED.category,
  price = EXCLUDED.price,
  rental_price = EXCLUDED.rental_price,
  stock_total = EXCLUDED.stock_total,
  stock_available = EXCLUDED.stock_available,
  stock_booked = EXCLUDED.stock_booked,
  stock_damaged = EXCLUDED.stock_damaged,
  stock_in_laundry = EXCLUDED.stock_in_laundry,
  product_code = EXCLUDED.product_code,
  barcode = EXCLUDED.barcode,
  brand = EXCLUDED.brand,
  color = EXCLUDED.color,
  material = EXCLUDED.material,
  cost_price = EXCLUDED.cost_price,
  security_deposit = EXCLUDED.security_deposit,
  reorder_level = EXCLUDED.reorder_level,
  damage_count = EXCLUDED.damage_count,
  is_active = EXCLUDED.is_active,
  franchise_id = EXCLUDED.franchise_id;

-- Create bookings with all required columns
INSERT INTO bookings (
  id,
  booking_number,
  customer_id,
  franchise_id,
  type,
  payment_type,
  total_amount,
  amount_paid,
  amount_pending,
  status,
  event_date,
  delivery_date,
  pickup_date,
  created_by,
  event_type,
  discount_amount,
  tax_amount,
  security_deposit,
  priority,
  groom_name,
  bride_name,
  venue_name,
  venue_address,
  special_instructions,
  invoice_generated,
  whatsapp_sent,
  created_at,
  updated_at
) VALUES 
(
  'b1111111-1111-1111-1111-111111111111',
  'REN001',
  'c1111111-1111-1111-1111-111111111111',
  '11111111-1111-1111-1111-111111111111',
  'rental',
  'advance',
  29440,
  14720,
  14720,
  'confirmed',
  '2024-03-25',
  '2024-03-23',
  '2024-03-27',
  '22222222-2222-2222-2222-222222222222',
  'wedding',
  1560,
  4000,
  8000,
  'high',
  'Rajesh Kumar',
  'Priya Sharma',
  'Grand Palace Hotel',
  '123 Palace Road, Central Delhi',
  'Handle with care, premium items',
  true,
  true,
  NOW(),
  NOW()
),
(
  'b2222222-2222-2222-2222-222222222222',
  'REN002',
  'c2222222-2222-2222-2222-222222222222',
  '11111111-1111-1111-1111-111111111111',
  'rental',
  'full',
  18880,
  18880,
  0,
  'delivered',
  '2024-03-18',
  '2024-03-17',
  '2024-03-19',
  '33333333-3333-3333-3333-333333333333',
  'engagement',
  1120,
  2400,
  5000,
  'normal',
  'Amit Patel',
  'Neha Gupta',
  'City Convention Center',
  '456 Convention Street, South Delhi',
  'Engagement ceremony, evening event',
  true,
  false,
  NOW(),
  NOW()
),
(
  'b3333333-3333-3333-3333-333333333333',
  'SAL001',
  'c3333333-3333-3333-3333-333333333333',
  '11111111-1111-1111-1111-111111111111',
  'direct_sale',
  'advance',
  59000,
  35400,
  23600,
  'pending',
  '2024-03-30',
  '2024-03-28',
  null,
  '44444444-4444-4444-4444-444444444444',
  'wedding',
  16000,
  0,
  0,
  'urgent',
  'Vikram Singh',
  'Kavya Reddy',
  'Royal Gardens',
  '789 Garden Avenue, East Delhi',
  'Direct sale, no return required',
  false,
  false,
  NOW(),
  NOW()
),
(
  'b4444444-4444-4444-4444-444444444444',
  'REN003',
  'c4444444-4444-4444-4444-444444444444',
  '11111111-1111-1111-1111-111111111111',
  'rental',
  'advance',
  47200,
  23600,
  23600,
  'returned',
  '2024-02-28',
  '2024-02-26',
  '2024-03-02',
  '22222222-2222-2222-2222-222222222222',
  'reception',
  2800,
  6000,
  10000,
  'normal',
  'Arjun Mehta',
  'Sneha Gupta',
  'Taj Palace',
  '321 Luxury Lane, North Delhi',
  'Reception party, late night event',
  true,
  true,
  NOW(),
  NOW()
),
(
  'b5555555-5555-5555-5555-555555555555',
  'REN004',
  'c5555555-5555-5555-5555-555555555555',
  '11111111-1111-1111-1111-111111111111',
  'rental',
  'full',
  14160,
  14160,
  0,
  'completed',
  '2024-02-14',
  '2024-02-13',
  '2024-02-15',
  '33333333-3333-3333-3333-333333333333',
  'sangeet',
  840,
  1800,
  3000,
  'low',
  'Rohit Sharma',
  'Anjali Singh',
  'Music Hall',
  '654 Music Street, West Delhi',
  'Sangeet ceremony, music and dance',
  true,
  true,
  NOW(),
  NOW()
),
(
  '880e8400-e29b-41d4-a716-446655440001', 'BK001', '660e8400-e29b-41d4-a716-446655440001', '550e8400-e29b-41d4-a716-446655440000', 'rental', 'advance', 15000.00, 10000.00, 5000.00, 'confirmed', 'Wedding', 500.00, 1350.00, 2000.00, 'high', 'Arjun Sharma', 'Priya Sharma', 'Grand Palace Hotel', '123 Wedding Street, Mumbai 400001', 'Handle with extra care, VIP customer', true, true, NOW(), NOW()),
    ('880e8400-e29b-41d4-a716-446655440002', 'BK002', '660e8400-e29b-41d4-a716-446655440002', '550e8400-e29b-41d4-a716-446655440000', 'rental', 'full', 12000.00, 8000.00, 4000.00, 'pending', 'Engagement', 300.00, 1080.00, 1500.00, 'medium', 'Amit Patel', 'Riya Patel', 'Royal Gardens', '456 Garden Road, Mumbai 400020', 'Delivery before 10 AM', false, true, NOW(), NOW()),
    ('880e8400-e29b-41d4-a716-446655440003', 'BK003', '660e8400-e29b-41d4-a716-446655440003', '550e8400-e29b-41d4-a716-446655440000', 'direct_sale', 'full', 18000.00, 18000.00, 0.00, 'delivered', 'Wedding', 800.00, 1620.00, 2500.00, 'high', 'Vikram Gupta', 'Sneha Gupta', 'Heritage Banquet', '789 Heritage Lane, Mumbai 400025', 'Premium service required', true, true, NOW(), NOW()),
    ('880e8400-e29b-41d4-a716-446655440004', 'BK004', '660e8400-e29b-41d4-a716-446655440004', '550e8400-e29b-41d4-a716-446655440000', 'rental', 'advance', 8000.00, 3000.00, 5000.00, 'pending', 'Reception', 200.00, 720.00, 1000.00, 'low', 'Rahul Singh', 'Anjali Singh', 'Elite Convention', '321 Elite Street, Mumbai 400030', 'Standard service', false, false, NOW(), NOW()),
    ('880e8400-e29b-41d4-a716-446655440005', 'BK005', '660e8400-e29b-41d4-a716-446655440005', '550e8400-e29b-41d4-a716-446655440000', 'direct_sale', 'advance', 22000.00, 15000.00, 7000.00, 'confirmed', 'Wedding', 1000.00, 1980.00, 3000.00, 'high', 'Karthik Reddy', 'Kavya Reddy', 'Royal Palace', '654 Royal Avenue, Mumbai 400035', 'Multiple outfit changes, extra care needed', true, true, NOW(), NOW())
ON CONFLICT (id) DO UPDATE SET
  booking_number = EXCLUDED.booking_number,
  customer_id = EXCLUDED.customer_id,
  franchise_id = EXCLUDED.franchise_id,
  type = EXCLUDED.type,
  payment_type = EXCLUDED.payment_type,
  total_amount = EXCLUDED.total_amount,
  amount_paid = EXCLUDED.amount_paid,
  amount_pending = EXCLUDED.amount_pending,
  status = EXCLUDED.status,
  event_date = EXCLUDED.event_date,
  delivery_date = EXCLUDED.delivery_date,
  pickup_date = EXCLUDED.pickup_date,
  created_by = EXCLUDED.created_by,
  event_type = EXCLUDED.event_type,
  discount_amount = EXCLUDED.discount_amount,
  tax_amount = EXCLUDED.tax_amount,
  security_deposit = EXCLUDED.security_deposit,
  priority = EXCLUDED.priority,
  groom_name = EXCLUDED.groom_name,
  bride_name = EXCLUDED.bride_name,
  venue_name = EXCLUDED.venue_name,
  venue_address = EXCLUDED.venue_address,
  special_instructions = EXCLUDED.special_instructions,
  invoice_generated = EXCLUDED.invoice_generated,
  whatsapp_sent = EXCLUDED.whatsapp_sent;

-- Create booking items with all required columns
INSERT INTO booking_items (
  id,
  booking_id,
  product_id,
  quantity,
  unit_price,
  total_price,
  discount_percent,
  security_deposit,
  damage_cost,
  cleaning_required,
  condition_on_delivery,
  condition_on_return,
  created_at,
  updated_at
) VALUES 
-- Booking 1 items (REN001)
(
  'bi111111-1111-1111-1111-111111111111',
  'b1111111-1111-1111-1111-111111111111',
  'p1111111-1111-1111-1111-111111111111',
  1,
  15000,
  15000,
  0,
  5000,
  0,
  false,
  'excellent',
  'good',
  NOW(),
  NOW()
),
(
  'bi111112-1111-1111-1111-111111111111',
  'b1111111-1111-1111-1111-111111111111',
  'p2222222-2222-2222-2222-222222222222',
  1,
  2500,
  2500,
  0,
  2000,
  0,
  false,
  'excellent',
  'excellent',
  NOW(),
  NOW()
),
(
  'bi111113-1111-1111-1111-111111111111',
  'b1111111-1111-1111-1111-111111111111',
  'p3333333-3333-3333-3333-333333333333',
  1,
  8000,
  8000,
  0,
  3000,
  0,
  true,
  'good',
  'fair',
  NOW(),
  NOW()
),
-- Booking 2 items (REN002)
(
  'bi222221-1111-1111-1111-111111111111',
  'b2222222-2222-2222-2222-222222222222',
  'p4444444-4444-4444-4444-444444444444',
  1,
  8000,
  8000,
  0,
  4000,
  0,
  false,
  'excellent',
  'good',
  NOW(),
  NOW()
),
(
  'bi222222-1111-1111-1111-111111111111',
  'b2222222-2222-2222-2222-222222222222',
  'p5555555-5555-5555-5555-555555555555',
  2,
  1800,
  3600,
  0,
  1000,
  0,
  false,
  'good',
  'good',
  NOW(),
  NOW()
),
-- Booking 3 items (SAL001) - Direct Sale
(
  'bi333331-1111-1111-1111-111111111111',
  'b3333333-3333-3333-3333-333333333333',
  'p1111111-1111-1111-1111-111111111111',
  1,
  75000,
  75000,
  20,
  0,
  0,
  false,
  'new',
  null,
  NOW(),
  NOW()
),
-- Booking 4 items (REN003)
(
  'bi444441-1111-1111-1111-111111111111',
  'b4444444-4444-4444-4444-444444444444',
  'p7777777-7777-7777-7777-777777777777',
  10,
  5000,
  50000,
  5,
  2000,
  0,
  true,
  'good',
  'fair',
  NOW(),
  NOW()
),
-- Booking 5 items (REN004)
(
  'bi555551-1111-1111-1111-111111111111',
  'b5555555-5555-5555-5555-555555555555',
  'p8888888-8888-8888-8888-888888888888',
  4,
  3000,
  12000,
  5,
  1500,
  0,
  false,
  'excellent',
  'excellent',
  NOW(),
  NOW()
),
(
  '990e8400-e29b-41d4-a716-446655440001', '880e8400-e29b-41d4-a716-446655440001', '770e8400-e29b-41d4-a716-446655440001', 2, 2500.00, 5000.00, 5.00, 1000.00, 0.00, false, 'excellent', 'good', NOW(), NOW()),
    ('990e8400-e29b-41d4-a716-446655440002', '880e8400-e29b-41d4-a716-446655440001', '770e8400-e29b-41d4-a716-446655440002', 1, 5000.00, 5000.00, 0.00, 1000.00, 0.00, false, 'excellent', 'excellent', NOW(), NOW()),
    ('990e8400-e29b-41d4-a716-446655440003', '880e8400-e29b-41d4-a716-446655440001', '770e8400-e29b-41d4-a716-446655440003', 1, 1500.00, 1500.00, 0.00, 300.00, 0.00, false, 'excellent', 'good', NOW(), NOW()),
    ('990e8400-e29b-41d4-a716-446655440004', '880e8400-e29b-41d4-a716-446655440002', '770e8400-e29b-41d4-a716-446655440004', 2, 3000.00, 6000.00, 10.00, 1200.00, 0.00, true, 'good', 'fair', NOW(), NOW()),
    ('990e8400-e29b-41d4-a716-446655440005', '880e8400-e29b-41d4-a716-446655440002', '770e8400-e29b-41d4-a716-446655440005', 3, 800.00, 2400.00, 0.00, 600.00, 0.00, false, 'good', 'good', NOW(), NOW()),
    ('990e8400-e29b-41d4-a716-446655440006', '880e8400-e29b-41d4-a716-446655440003', '770e8400-e29b-41d4-a716-446655440002', 2, 5000.00, 10000.00, 5.00, 2000.00, 0.00, false, 'excellent', 'excellent', NOW(), NOW()),
    ('990e8400-e29b-41d4-a716-446655440007', '880e8400-e29b-41d4-a716-446655440003', '770e8400-e29b-41d4-a716-446655440001', 1, 2500.00, 2500.00, 0.00, 500.00, 0.00, false, 'excellent', 'good', NOW(), NOW()),
    ('990e8400-e29b-41d4-a716-446655440008', '880e8400-e29b-41d4-a716-446655440004', '770e8400-e29b-41d4-a716-446655440005', 4, 800.00, 3200.00, 15.00, 800.00, 0.00, false, 'good', NULL, NOW(), NOW()),
    ('990e8400-e29b-41d4-a716-446655440009', '880e8400-e29b-41d4-a716-446655440005', '770e8400-e29b-41d4-a716-446655440002', 3, 5000.00, 15000.00, 0.00, 3000.00, 0.00, false, 'excellent', NULL, NOW(), NOW()),
    ('990e8400-e29b-41d4-a716-446655440010', '880e8400-e29b-41d4-a716-446655440005', '770e8400-e29b-41d4-a716-446655440003', 2, 1500.00, 3000.00, 5.00, 600.00, 0.00, false, 'excellent', NULL, NOW(), NOW())
ON CONFLICT (id) DO UPDATE SET
  booking_id = EXCLUDED.booking_id,
  product_id = EXCLUDED.product_id,
  quantity = EXCLUDED.quantity,
  unit_price = EXCLUDED.unit_price,
  total_price = EXCLUDED.total_price,
  discount_percent = EXCLUDED.discount_percent,
  security_deposit = EXCLUDED.security_deposit,
  damage_cost = EXCLUDED.damage_cost,
  cleaning_required = EXCLUDED.cleaning_required,
  condition_on_delivery = EXCLUDED.condition_on_delivery,
  condition_on_return = EXCLUDED.condition_on_return;

-- Final verification and summary
SELECT 
    'Comprehensive Dummy Data Created Successfully!' as status,
    (SELECT count(*) FROM franchises) as franchises,
    (SELECT count(*) FROM users) as users,
    (SELECT count(*) FROM customers) as customers,
    (SELECT count(*) FROM products) as products,
    (SELECT count(*) FROM bookings) as bookings,
    (SELECT count(*) FROM booking_items) as booking_items,
    (SELECT count(*) FROM bookings WHERE status = 'pending') as pending_bookings,
    (SELECT count(*) FROM bookings WHERE status = 'confirmed') as confirmed_bookings,
    (SELECT count(*) FROM bookings WHERE status = 'delivered') as delivered_bookings,
    (SELECT count(*) FROM bookings WHERE status = 'completed') as completed_bookings,
    (SELECT COALESCE(SUM(total_amount), 0) FROM bookings WHERE status != 'cancelled') as total_revenue;
